{% liquid
    assign color_scheme = section.settings.color_scheme
    assign text_colour = section.settings.text_colour
    assign button_style = section.settings.button_style
%}

<div class="bg-{{ color_scheme }}{% if color_scheme == 'transparent' %} pt-12 large:pt-20{% else %} mt-12 py-12 large:mt-20 large:py-20{% endif %}">
    <div class="container">
        <div class="wrap">
            <div class="grid grid-cols-1 gap-6 large:gap-9 large:grid-cols-12">
                {%- for block in section.blocks -%}
                    {% liquid
                        assign heading = block.settings.heading
                        assign text = block.settings.text
                        assign button_label = block.settings.button_label
                        assign secondary_button_label = block.settings.secondary_button_label
                        assign button_link = block.settings.button_link 
                    %}

                    <div class="col-span-1 large:col-span-5{% if forloop.index0 > 0 %} large:col-start-7{% endif %}">
                        {% if heading != blank %}
                            <h2 class="body-m font-Gotham uppercase font-[350]{% if text_colour %} text-{{ text_colour }}{% endif %} large:body-l">
                                {{- heading | escape -}}
                            </h2>
                        {%  endif %}
                        {% if text != blank %}
                            <div class="wysiwyg{% if text_colour %} text-{{ text_colour }}{% endif %} mt-4 large:mt-8">
                                {{- text -}}
                            </div>
                        {% endif %}
                    
                        {%- if button_label != blank and button_link != blank -%}
                            <div class="mt-4 large:mt-8">
                                <a
                                    class="button{% if button_style %} button--{{ button_style }}{% endif %}"
                                    {% if block.settings.button_link == blank %}
                                        role="link"
                                        aria-disabled="true"
                                    {% else %}
                                        href="{{ button_link }}"
                                    {% endif %}
                                >
                                    <div class="button__label">
                                        <span>
                                            {{- button_label | escape -}}
                                        </span>
                                        <span class="absolute top-10 left-0">
                                            {% if secondary_button_label %}
                                                {{- secondary_button_label -}}
                                            {% else %}
                                                {{- button_label -}}
                                            {% endif %}
                                        </span>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                        <path d="M7.29289 0.292893C7.68342 -0.0976311 8.31658 -0.0976311 8.70711 0.292893L15.7071 7.29289C16.0976 7.68342 16.0976 8.31658 15.7071 8.70711L8.70711 15.7071C8.31658 16.0976 7.68342 16.0976 7.29289 15.7071C6.90237 15.3166 6.90237 14.6834 7.29289 14.2929L12.5858 9H1C0.447715 9 0 8.55229 0 8C0 7.44772 0.447715 7 1 7H12.5858L7.29289 1.70711C6.90237 1.31658 6.90237 0.683417 7.29289 0.292893Z" fill="white"/>
                                    </svg>
                                </a>
                            </div>
                        {% endif %}
                    </div>
                {%- endfor -%}
            </div>
        </div>
    </div>
</div>

{% schema %}
{
    "name": "t:sections.text-two-cols.name",
    "tag": "section",
    "class": "section",
    "settings": [
        {
            "type": "select",
            "id": "color_scheme",
            "options": [
                {
                    "value": "accentA",
                    "label": "t:sections.all.colors.accent_a.label"
                },
                {
                    "value": "accentP",
                    "label": "t:sections.all.colors.accent_p.label"
                },
                {
                    "value": "accentR",
                    "label": "t:sections.all.colors.accent_r.label"
                },
		        {
                    "value": "accentY",
                    "label": "t:sections.all.colors.accent_y.label"
                },
                {
                    "value": "background1",
                    "label": "t:sections.all.colors.background_1.label"
                },
                {
                    "value": "background2",
                    "label": "t:sections.all.colors.background_2.label"
                },
                {
                    "value": "transparent",
                    "label": "t:sections.all.colors.transparent.label"
                }
            ],
            "default": "transparent",
            "label": "t:sections.all.colors.heading"
        },
        {
            "type": "select",
            "id": "text_colour",
            "options": [
                {
                    "value": "primary",
                    "label": "t:sections.all.colors.primary.label"
                },
                {
                    "value": "secondary",
                    "label": "t:sections.all.colors.secondary.label"
                },
                {
                    "value": "accentA",
                    "label": "t:sections.all.colors.accent_a.label"
                },
                {
                    "value": "accentP",
                    "label": "t:sections.all.colors.accent_p.label"
                },
                {
                    "value": "accentR",
                    "label": "t:sections.all.colors.accent_r.label"
                },
		        {
                    "value": "accentY",
                    "label": "t:sections.all.colors.accent_y.label"
                },
                {
                    "value": "text1",
                    "label": "t:sections.all.colors.text_1.label"
                },
                {
                    "value": "text2",
                    "label": "t:sections.all.colors.text_2.label"
                },
                {
                    "value": "background1",
                    "label": "t:sections.all.colors.background_1.label"
                },
                {
                    "value": "background2",
                    "label": "t:sections.all.colors.background_2.label"
                }
            ],
            "default": "text1",
            "label": "t:sections.hero.settings.text_color.label"
        },
        {
            "type": "select",
            "id": "button_style",
            "options": [
                {
                    "value": "primary",
                    "label": "t:sections.all.button_styles.primary.label"
                },
                {
                    "value": "secondary",
                    "label": "t:sections.all.button_styles.secondary.label"
                },
                {
                    "value": "tertiary",
                    "label": "t:sections.all.button_styles.tertiary.label"
                },
                {
                    "value": "white",
                    "label": "t:sections.all.button_styles.white.label"
                }
            ],
            "default": "primary",
            "label": "t:sections.all.button_styles.button_style_label"
        }
    ],
    "blocks": [
        {
            "type": "text-block",
            "name": "t:sections.text-two-cols.blocks.text-block.name",
            "limit": 2,
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "t:sections.text-two-cols.blocks.text-block.settings.title.label"
                },
                {
                    "type": "richtext",
                    "id": "text",
                    "label": "t:sections.text-two-cols.blocks.text-block.settings.text.label"
                },
                {
                    "type": "text",
                    "id": "button_label",
                    "default": "Button label",
                    "label": "t:sections.text-two-cols.blocks.text-block.settings.button_label.label",
                    "info": "t:sections.text-two-cols.blocks.text-block.settings.button_label.info"
                },
                {
                    "type": "text",
                    "id": "secondary_button_label",
                    "default": "Secondary Button label",
                    "label": "t:sections.text-two-cols.blocks.text-block.settings.secondary_button_label.label",
                    "info": "t:sections.text-two-cols.blocks.text-block.settings.secondary_button_label.info"
                },
                {
                    "type": "url",
                    "id": "button_link",
                    "label": "t:sections.text-two-cols.blocks.text-block.settings.button_link.label"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "t:sections.text-two-cols.presets.name",
            "blocks": [
                {
                    "type": "text-block"
                }
            ]
        }
    ]
}
{% endschema %}
